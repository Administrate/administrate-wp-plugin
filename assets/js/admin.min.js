!function(e){e.ADMMessage=function(){var s=e.ADMMessage.defaults;if(0==e(s.confirm_dialog).length){"<p><span id='admwpp-confirm-dialog-message'></span></p>","</div>",e("body").append("<div id='admwpp-dialog-confirm' class='admwpp-dialog-confirm'><p><span id='admwpp-confirm-dialog-message'></span></p></div>")}e(s.message_box+".show").length>0&&(e(s.message_box).appendTo("body"),this.message_position(s.message_box),setTimeout(function(){e(s.message_box).slideUp("slow",function(){e(this).removeClass("show")})},2e3))},e.ADMMessage.prototype={display_message:function(s){var a=this,t=e.ADMMessage.defaults,i=e.extend(!1,{},t.message_options,s);0===e(t.message_box).length?e("<div id='admwpp-message-box'></div>").appendTo("body"):e(t.message_box).appendTo("body"),e(t.message_box).each(function(){var t=e(this);a.message_position(t),t.html(s.message),i.success?(t.removeClass("error"),t.addClass("success")):(t.removeClass("success"),t.addClass("error")),t.slideDown("slow"),i.auto_hide&&setTimeout(function(){t.slideUp("slow")},5e3)})},message_position:function(s){var a=e.ADMMessage.defaults;e(a.admin_bar).length>0&&e(a.message_box).length>0&&e(a.message_box).css("top",e(a.admin_bar).height()+"px")},confirm_dialog:function(s){var a=e.ADMMessage.defaults,t=e.extend(!1,{},a.confirm_options,s);e(t.id+" "+t.message_id).html(t.message),t.width>t.maxWidth&&(t.width=t.maxWidth),e(t.id).dialog({resizable:!1,minHeight:200,modal:!0,draggable:!1,buttons:t.buttons,title:t.title,dialogClass:t.dialogClass,show:t.show,width:t.width,close:t.close})}},e.ADMMessage.defaults={confirm_options:{id:"#admwpp-dialog-confirm",width:300,maxWidth:1e3,dialogClass:"admwpp-dialog",message:"Are you sure?",message_id:"#admwpp-confirm-dialog-message",title:"Are you sure?",show:{effect:"fade",duration:300},close:function(){}},message_options:{message:"Success!",success:!0,auto_hide:!0},admin_page:".wp-admin",admin_bar:"#wpadminbar",message_box:"#admwpp-message-box",confirm_dialog:".admwpp-dialog-confirm"}}(jQuery),function(e){e.ADMBase=function(s){this.message=s;var a=e.ADMBase.defaults;e(".clippy").length>0&&e(".clippy").clippy({clippy_path:a.clippy_swf}),e("body").on({ajaxStart:function(){e(this).css({cursor:"progress"})},ajaxStop:function(){e(this).css({cursor:"default"})}}),e(a.selectable).length>0&&e(a.selectable).on("click",function(){e(this).select()})},e.ADMBase.prototype={highest_zindex:function(){var s=-999;return e("*").each(function(){var a=parseInt(e(this).css("z-index"),10);a&&s<a&&(s=a)}),parseInt(s)},blink_element:function(e,s){""!==s?e.addClass("admwpp-blink").addClass(s):e.addClass("admwpp-blink"),setTimeout(function(){""!==s?e.removeClass("admwpp-blink").removeClass(s):e.removeClass("admwpp-blink")},800)},validate:function(){var s,a,t=e.ADMBase.defaults,i=e("input[required='true']"),o=!0;return i.each(function(){switch(s=e(this),s.attr("type")){case"hidden":a=e("#"+s.attr("target")),s.val()?(o=o&&!0,a.removeClass(t.required)):(o=o&&!1,a.addClass(t.required));break;case"radio":if(e(':radio:checked[name="'+s.attr("name")+'"]')[0])o=o&&!0,s.closest("fieldset").removeClass(t.required);else o=o&&!1,s.closest("fieldset").addClass(t.required);break;default:s.val()?(o=o&&!0,s.removeClass(t.required)):(o=o&&!1,s.addClass(t.required))}}),e("."+t.required).effect("highlight",{},1e3),o||this.message.display_message({message:"Please fill required fields.",success:!1}),o},is_int:function(e){return parseFloat(e)===parseInt(e,10)&&!isNaN(e)},is_active_editor:function(){var e=!1;return null!==tinymce.activeEditor&&(tinymce.activeEditor.isHidden()||(e=!0)),e},url_param:function(e){var s=new RegExp(e+"=(.+?)(&|$)");return decodeURI((s.exec(location.search)||[,null])[1])},url_params:function(){var e,s,a=[],t=window.location.href,i=t.slice(t.indexOf("?")+1).split("&");for(s=0;s<i.length;s++)e=i[s].split("="),a.push(e[0]),a[e[0]]=e[1];return a},trim_text:function(s,a,t){return s.length>a?e.trim(s).substring(0,a).split(" ").slice(0,-1).join(" ")+t:s}},e.ADMBase.defaults={clippy_swf:admwpp_base_url+"assets/js/plugins/clippy/clippy.swf",admin_bar:"#wpadminbar",required:"admwpp-required",loader:".admwpp-loader-image",meta_loader:".admwpp-loader",selectable:".admwpp-selectable",loaddingClass:"admwpp-loading"}}(jQuery),function(e){e.ADMSettings=function(s,a){var t=this;t.base=s,t.message=a;var i=e.ADMSettings.defaults,o=e.ADMBase.defaults;t.call=0;i=e.ADMSettings.defaults;e(i.importCategoriesBtn).on("click",function(){var s=e(this);s.hasClass(o.loaddingClass)||(s.data("page",1),s.data("imported",0),s.data("exists",0),t.importCategories(s))}),e(i.importCoursesBtn).on("click",function(){var s=e(this);s.hasClass(o.loaddingClass)||(s.data("page",1),s.data("imported",0),s.data("exists",0),t.importCourses(s))})},e.ADMSettings.prototype={importCategories:function(s){var a=this,t=e.ADMSettings.defaults,i=e.ADMBase.defaults;if(!s.hasClass(i.loaddingClass)){s.addClass(i.loaddingClass);var o=parseInt(s.data("page")),n=parseInt(s.data("per_page")),d=parseInt(s.data("imported")),r=parseInt(s.data("exists")),p={_uri:"settings/importLearningCategories",page:o,per_page:n,imported:d,exists:r};e.ajax({type:"get",url:admwpp_route_url,data:p,dataType:"json",contentType:"application/json; charset=utf-8",success:function(n){s.removeClass(i.loaddingClass),s.data("imported",n.imported),s.data("exists",n.exists),n.hasNextPage&&(o+=1,s.data("page",o),a.importCategories(s)),n.message&&e(t.importInfoCat).html(n.message)}})}},importCourses:function(s){var a=this,t=e.ADMSettings.defaults,i=e.ADMBase.defaults;if(!s.hasClass(i.loaddingClass)){s.addClass(i.loaddingClass);var o=parseInt(s.data("page")),n=parseInt(s.data("per_page")),d=parseInt(s.data("imported")),r=parseInt(s.data("exists")),p={_uri:"settings/importCourses",page:o,per_page:n,imported:d,exists:r};e.ajax({type:"get",url:admwpp_route_url,data:p,dataType:"json",contentType:"application/json; charset=utf-8",success:function(n){s.removeClass(i.loaddingClass),s.data("imported",n.imported),s.data("exists",n.exists),n.hasNextPage&&(o+=1,s.data("page",o),a.importCourses(s)),n.message&&e(t.importInfoCourses).html(n.message)}})}}},e.ADMSettings.defaults={importCategoriesBtn:"#admwpp-import-categories-button",importCoursesBtn:"#admwpp-import-courses-button",importLearningPathBtn:"#admwpp-import-learning-path-button",importInfoCat:"#admwpp-import-info-categories",importInfoCourses:"#admwpp-import-info-courses",importInfoLp:"#admwpp-import-info-learning-path"}}(jQuery),function(e){e(document).ready(function(){var s=new e.ADMMessage,a=new e.ADMBase(s);new e.ADMSettings(a,s)})}(jQuery);